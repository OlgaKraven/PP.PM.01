<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Методичка — Модуль 3 (Проектирование, разработка и оптимизация)</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .wrap{max-width:1100px;margin-inline:auto;padding:20px}
    nav a{margin-right:10px}
    .subtitle{opacity:.85}
    .table{width:100%;border-collapse:collapse}
    .table th,.table td{border-bottom:1px solid var(--line,#e5e7eb);padding:6px 8px;text-align:left;vertical-align:top}
    pre code{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace}
    .checklist li{margin:.2rem 0}
    .note{background:var(--card,#fff);border:1px solid var(--line,#e5e7eb);border-radius:10px;padding:10px;margin:10px 0}
    .kbd{padding:2px 6px;border:1px solid var(--line,#e5e7eb);border-radius:6px;background:#f8fafc}
    .grid-two{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  </style>
</head>
<body>  <div class="wrap wrap-tight">
    <h1>Методические рекомендации</h1>
    <nav class="global-nav" aria-label="Глобальная навигация">
      <a href="module1-db.html">Модуль 1 — База данных</a>
           <a href="module2-uiux-iframe.html">Модуль 2 — UI/UX</a>
      <a href="module3-functional-iframe-plus.html">Модуль 3 — Функционал</a>
      <a href="assignment1-guidelines.html">Задание 1</a>
      <a href="assignment2-guidelines.html">Задание 2</a>
      <a href="assignment3-guidelines.html">Задание 3</a>
    </nav>
  </div>
  <div class="wrap">
    <header>
 <h1>Задание 3 — Поэтапные шаги по работе с модулем 3</h1>
      <div class="subtitle"><b>Тема:</b> Проектирование, разработка и оптимизация веб‑приложений</div>
      <div class="subtitle"><b>Цель:</b> интегрировать дизайн и данные, доработать БД под полный сценарий, добавить микроанимации и обеспечить качество и адаптивность.</div>
      <nav>
        <a href="#s1">Этап 1. Анализ и постановка задач</a>
        <a href="#s2">Этап 2. Доработка БД</a>
        <a href="#s3">Этап 3. Интеграция FE/BE</a>
        <a href="#s4">Этап 4. Качество кода</a>
        <a href="#s5">Этап 5. Микроанимации</a>
        <a href="#s6">Этап 6. Адаптивность</a>
        <a href="#s7">Этап 7. Производительность</a>
        <a href="#s8">Этап 8. Документация и QA</a>
        <a href="#s9">Этап 9. Финальная сборка</a>
        <a href="#s10">Этап 10. Пример готового проекта с GitHub</a>

      </nav>
    </header>

    <section id="s1">
      <h2>Этап 1. Анализ предыдущих модулей и постановка задач</h2>
      <ul class="kv checklist">
        <li>Откройте проект из Модуля 1 (БД + регистрация/авторизация) и Модуля 2 (адаптив, слайдер, UX).</li>
        <li>Составьте список доработок БД/функций:
          <ul>
            <li>добавить статусы, связи, индексы;</li>
            <li>расширить таблицы <code>users</code>, <code>requests</code>, <code>status</code>;</li>
            <li>добавить логирование (например, <code>request_log</code>);</li>
            <li>связать формы с реальной БД.</li>
          </ul>
        </li>
        <li>Определите полный пользовательский сценарий: <b>Регистрация → Авторизация → Работа с заявками → Изменение статусов → Просмотр истории</b>.</li>
      </ul>
      <div class="note"><b>Результат:</b> карта сценариев и перечень изменений в архитектуре.</div>
    </section>

    <section id="s2">
      <h2>Этап 2. Доработка базы данных</h2>
      <p><b>Цель:</b> поддержать все сценарии приложения.</p>
      <h3>Новая таблица логов</h3>
      <pre><code class="language-sql">CREATE TABLE request_log (
  id SERIAL PRIMARY KEY,
  request_id INT REFERENCES requests(id),
  old_status INT,
  new_status INT,
  changed_by INT REFERENCES users(id),
  changed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>

      <h3>Индексы и ограничения</h3>
      <pre><code class="language-sql">CREATE INDEX idx_user_login ON users(login);
ALTER TABLE requests
  ADD CONSTRAINT chk_payment CHECK (payment IN ('cash','card','online'));</code></pre>

      <ul class="kv checklist">
        <li>Подготовьте миграцию или <code>/sql/schema_v3.sql</code>.</li>
        <li>Обновите ER‑диаграмму (draw.io / dbdiagram.io / PlantUML): связи, ключи, индексы, статусы.</li>
      </ul>
      <div class="note"><b>Результат:</b> актуальная схема БД + скрипты миграций.</div>
    </section>

    <section id="s3">
      <h2>Этап 3. Интеграция фронтенда и бэкенда</h2>
      <p><b>Цель:</b> связать формы интерфейса с логикой сервера и базой данных.</p>
      <ul class="kv">
        <li>Регистрация вставляет данные в <code>users</code>; вход сверяет <code>login</code> и <code>password_hash</code>.</li>
        <li>Реализуйте CRUD для сущностей.</li>
      </ul>
      <pre><code class="language-python">@app.route('/api/requests', methods=['GET'])
def list_requests():
    return jsonify(Request.query.all())

@app.route('/api/requests', methods=['POST'])
def add_request():
    data = request.json
    new = Request(**data)
    db.session.add(new)
    db.session.commit()
    return jsonify({'status': 'created'})</code></pre>

      <h3>Фильтры и поиск</h3>
      <ul class="kv">
        <li>По статусу: <code>?status=done</code></li>
        <li>По дате: <code>?from=2025-01-01&amp;to=2025-12-31</code></li>
      </ul>

      <h3>Отправка форм в API</h3>
      <pre><code class="language-js">fetch('/api/requests', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({variant: 'Бронирование', payment: 'card'})
});</code></pre>

      <div class="note"><b>Результат:</b> формы взаимодействуют с БД через сервер.</div>
    </section>

    <section id="s4">
      <h2>Этап 4. Улучшение качества кода</h2>
      <h3>Слои проекта</h3>
      <pre><code class="mono">/backend   ← маршруты и логика
/frontend  ← страницы и скрипты
/sql       ← схемы и миграции
/docs      ← диаграммы и инструкции</code></pre>
      <h3>Правила</h3>
      <ul class="kv checklist">
        <li>Единый стиль отступов (4 пробела), кодировка UTF‑8.</li>
        <li>Комментарии в функциях и классах.</li>
        <li>Осмысленные имена переменных и функций.</li>
      </ul>
      <h3>Линтеры</h3>
      <ul class="kv">
        <li>HTML — W3C Validator</li>
        <li>JS — ESLint</li>
        <li>Python — Flake8</li>
      </ul>
      <div class="note"><b>Результат:</b> код читаем и поддерживаем.</div>
    </section>

    <section id="s5">
      <h2>Этап 5. Микроанимации и UX‑улучшения</h2>
      <h3>Hover‑эффекты</h3>
      <pre><code class="language-css">button:hover {
  transform: scale(1.05);
  transition: 0.3s ease;
}</code></pre>
      <h3>Плавное появление</h3>
      <pre><code class="language-css">@keyframes fadeIn {
  from {opacity: 0;}
  to   {opacity: 1;}
}
.toast { animation: fadeIn 0.5s; }</code></pre>
      <h3>Индикатор загрузки</h3>
      <pre><code class="language-html">&lt;div class="loader"&gt;&lt;/div&gt;</code></pre>
      <pre><code class="language-css">.loader {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #0057B7;
  border-radius: 50%;
  width: 30px; height: 30px;
  animation: spin 1s linear infinite;
}
@keyframes spin { 100% { transform: rotate(360deg); } }</code></pre>
      <h3>Toast‑сообщения</h3>
      <pre><code class="language-js">function showToast(msg){
  const t=document.createElement('div');
  t.className='toast'; t.textContent=msg;
  document.body.appendChild(t);
  setTimeout(()=>t.remove(),3000);
}</code></pre>
      <div class="note"><b>Результат:</b> интерфейс отзывчив, «живой» и понятный.</div>
    </section>

    <section id="s6">
      <h2>Этап 6. Проверка адаптивности и кросс‑браузерности</h2>
      <ul class="kv checklist">
        <li>Экраны: <code>390×844</code>, <code>768×1024</code>, <code>1440×900</code>.</li>
        <li>Формы, таблицы, кнопки корректно перестраиваются.</li>
        <li>Слайдер работает на мобильном; меню адаптивное; фокус видим.</li>
        <li>DevTools → Responsive, Lighthouse (Accessibility).</li>
      </ul>
      <div class="note"><b>Результат:</b> корректность на мобильных, доступность ≥ 90 %.</div>
    </section>

    <section id="s7">
      <h2>Этап 7. Оптимизация производительности</h2>
      <h3>Минификация</h3>
      <ul class="kv">
        <li>cssnano / Terser → <code>style.min.css</code>, <code>main.min.js</code>.</li>
      </ul>
      <h3>Кэширование</h3>
      <ul class="kv">
        <li>Заголовок <code>Cache-Control</code>.</li>
        <li><code>manifest.json</code> для PWA (при необходимости).</li>
      </ul>
      <h3>Lazy‑loading изображений</h3>
      <pre><code class="language-html">&lt;img src="photo.webp" loading="lazy" alt="пример"&gt;</code></pre>
      <h3>Проверка скорости</h3>
      <ul class="kv">
        <li>Lighthouse → Performance (цель &gt; 80).</li>
      </ul>
      <div class="note"><b>Результат:</b> быстрая загрузка, оптимизированный трафик.</div>
    </section>

    <section id="s8">
      <h2>Этап 8. Документирование и контроль качества</h2>
      <h3>README.md</h3>
      <ul class="kv checklist">
        <li>Краткое описание функционала.</li>
        <li>Список маршрутов API.</li>
        <li>Структура БД и ER‑диаграмма.</li>
        <li>Инструкция запуска и тестирования.</li>
      </ul>

      <h3>Чек‑лист оптимизаций и анимаций (<code>/docs/checklist_m3.pdf</code>)</h3>
      <table class="table" aria-label="Чек-лист M3">
        <thead><tr><th>Проверка</th><th>Да/Нет</th><th>Комментарий</th></tr></thead>
        <tbody>
          <tr><td>Добавлены индексы в БД</td><td>☐</td><td></td></tr>
          <tr><td>Работают фильтры запросов</td><td>☐</td><td></td></tr>
          <tr><td>Анимации hover и toast</td><td>☐</td><td></td></tr>
          <tr><td>Минифицированы CSS/JS</td><td>☐</td><td></td></tr>
          <tr><td>Lighthouse ≥ 80 %</td><td>☐</td><td></td></tr>
        </tbody>
      </table>

      <h3>Коммиты</h3>
      <pre><code class="language-bash">git commit -m "start module 3"
...
git commit -am "final integration and optimization"
git push origin main</code></pre>
    </section>

    <section id="s9">
      <h2>Этап 9. Финальная сборка и проверка</h2>
      <pre><code class="mono">/project
  /frontend
  /backend
  /sql
  /docs
    ERD_v3.png
    checklist_m3.pdf
  README.md</code></pre>
      <ul class="kv checklist">
        <li>Все страницы подключены к серверу.</li>
        <li>Данные отображаются корректно.</li>
        <li>Ошибки/валидация работают.</li>
        <li>Адаптивность сохранена.</li>
      </ul>
    </section>

 <section id="s10">
      <h2> Этап 10. Пример готового проекта с GitHub</h2>
      <p>Можете взять готовый пример из репозитория и посмотреть реализацию полного сценария:</p>
      <div class="note"><b>Репозиторий:</b> <code>https://github.com/OlgaKraven/test-pp.05.git</code></div>

      <h3>Что внутри (кратко)</h3>
      <ul class="kv">
        <li><b>app.py</b> — Flask‑сервер, маршруты: <code>/</code>, <code>/register</code>, <code>/login</code>, <code>/logout</code>, <code>/dashboard</code>, <code>/create-request</code>, <code>/admin</code>, <code>/admin/set-status/&lt;id&gt;</code>.</li>
        <li><b>templates/</b> — страницы: главная со слайдером; вход/регистрация (валидации); кабинет пользователя (список + форма заявки); админ.</li>
        <li><b>static/css/styles.css</b> и <b>static/js/app.js</b> — адаптив, фокус‑состояния, микроанимации (toast), автослайдер (3 с) и кнопки навигации.</li>
        <li><b>sql/schema.sql</b> + <b>sql/seed.sql</b> — схема БД и демо‑данные (репертуар и показы).</li>
        <li><b>ER‑диаграмма.plantuml</b> — ER‑диаграмма (PlantUML).</li>
        <li><b>README.md</b> — запуск, тестовые учётки и сценарии.</li>
        <li><b>requirements.txt</b> — зависимости (Flask, Werkzeug).</li>
      </ul>

      <h3>Быстрый старт</h3>
      <pre><code class="language-bash">git clone https://github.com/OlgaKraven/test-pp.05.git
cd test-pp.05
python -m venv .venv && . .venv/bin/activate   # Windows: .venv\Scripts\activate
pip install -r requirements.txt
python app.py</code></pre>
      <p>Откройте: <code>http://127.0.0.1:5000</code></p>

      <h3>Тестовые учётные записи</h3>
      <table class="table" aria-label="Тестовые учётки">
        <thead><tr><th>Роль</th><th>Логин</th><th>Пароль</th></tr></thead>
        <tbody>
          <tr><td>Пользователь</td><td><code>user1@example.com</code></td><td><code>password123</code></td></tr>
          <tr><td>Администратор</td><td><code>admin@example.com</code></td><td><code>admin12345</code></td></tr>
        </tbody>
      </table>

      <h3>Как использовать в рамках Модуля 3</h3>
      <ul class="kv checklist">
        <li>Сверьте структуру БД с вашим <code>schema_v3.sql</code>, добавьте <code>request_log</code>, индексы и ограничения.</li>
        <li>Обновите формы/маршруты под ваш сценарий фильтров/поиска.</li>
        <li>Проверьте микроанимации (hover, toast) и адаптивность на 390×844 / 768×1024 / 1440×900.</li>
        <li>Запустите Lighthouse: Performance &gt; 80, Accessibility ≥ 90.</li>
      </ul>
    </section>
  </div>
</body>
</html>
